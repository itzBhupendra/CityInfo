CREATE FUNCTION GetCTTime ()
RETURNS DATETIME
AS
BEGIN
    DECLARE @output_datetime DATETIME;
    SET @output_datetime = 
        CASE
            WHEN DATEPART(MONTH, GETUTCDATE()) BETWEEN 3 AND 10 THEN -- Daylight saving time observed from March to October
                DATEADD(HOUR, -5, GETUTCDATE()) -- Central Daylight Time (CDT) is UTC -5 hours
            ELSE
                DATEADD(HOUR, -6, GETUTCDATE()) -- Central Standard Time (CST) is UTC -6 hours
        END;
    RETURN @output_datetime;
END
