using Microsoft.Extensions.Logging;

public class QFileLoggerProvider : ILoggerProvider
{
    private readonly string _filePath;

    public QFileLoggerProvider(string filePath)
    {
        _filePath = filePath;
    }

    public ILogger CreateLogger(string categoryName)
    {
        return new QFileLogger(_filePath);
    }

    public void Dispose()
    {
        // Cleanup if necessary
    }
}

public static class QFileLoggerExtensions
{
    public static ILoggingBuilder AddQFileLogger(this ILoggingBuilder builder, string filePath)
    {
        builder.Services.AddSingleton<ILoggerProvider>(provider => new QFileLoggerProvider(filePath));
        return builder;
    }
}
