import PyPDF2

def compress_pdf(input_path, output_path):
    with open(input_path, 'rb') as file:
        pdf = PyPDF2.PdfFileReader(file)
        writer = PyPDF2.PdfFileWriter()

        for page_num in range(pdf.getNumPages()):
            writer.addPage(pdf.getPage(page_num))

        # Set the compression level
        writer.setCompression(9)  # You can set a compression level (0-9)

        with open(output_path, 'wb') as output_file:
            writer.write(output_file)

# Replace 'input.pdf' and 'compressed_output.pdf' with your file names
input_pdf = 'input.pdf'
output_pdf = 'compressed_output.pdf'

compress_pdf(input_pdf, output_pdf)
